<!DOCTYPE html>
<html>
<head>
	<title>Het Rijksmuseum Memory Spel</title>
	<link rel="stylesheet" href="css/style.css"></link>
	<link href='http://fonts.googleapis.com/css?family=Cardo' rel='stylesheet' type='text/css'>
</head>
<body>

<div id="settings" class="msgBlock">
	<h1>Het Rijksmuseum Memory Spel</h1>

	<div class="items">
		<input id="qry" class="inputBtn" placeholder="bijv. rembrandt, van gogh" value="rembrandt"/>
	</div>
	<div class="items msg" style="display: none;">
		<div class="bodytext">Geen resultaten gevonden. Probeer opnieuw.</div>
	</div>
	<div id="play" class="submitBtn">play</div>
</div>

<div id="final" class="msgBlock">
	<h1 class="win">Yah! Je hebt gewonnen.</h1>
	<h1 class="lose">Jammer! Je hebt verloren.</h1>

	<div id="replay" class="submitBtn">opnieuw</div>
</div>

<script src="js/jquery-1.6.4.min.js"></script>
<script src="js/Sprite3D.min.js"></script>
<script src="js/memory.js"></script>
<script src="js/card.js"></script>
<script>

function play(){
	$('#settings .msg').hide();
	var host = "http://games.noblestreet.nl/rmg/json.php";
	var qry = $('#qry').val();
	$.getJSON( host + "?qry="+qry+"&callback=?", {}, function(data) {
		// console.log(data.length);
		if(data.length >= 10){
			$('#settings').hide();
			//init(data);
			game = new Memory(data);
		} else {
			//show warning not enough records found
			$('#settings .msg').show();
		}
	});
}


var Stage = Sprite3D.createCenteredContainer();
var Sprites = [];
var game;


$(document).ready(function() {

	//center message block onscreen
	$('.msgBlock').each(function(){
		var t = ($(document).height() - $(this).outerHeight())/2;
		$(this).css('top', t);
	});

	$('#play').click(play);

	$('#replay').click(function(e){
		window.location.reload();
	});

	//play() // auto-start for testing
});

</script>
</body>
</html>
